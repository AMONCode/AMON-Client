This project contains AMON HTTPS Post client used to sent alerts from a subdirectory called
"alerts" to AMON servers. Every event sent will be moved to "alert/archive".
Before running this plugin, create a subdirectory alert and alerts/archive.

### Dependencies: ###
 * Twisted >=14.0.2 (recommended >=15.1.1) 
 * PyOpenSSL >=0.14 (recommended >=0.15.11) 
 * pycrypto >= 2.6.1 
 * cffi (recommended >=1.1.0) 
 * cryptography (recommended >=0.9) 
 * service_identity > 14.0.0 (recommneded >=16.0.0) 

### DO NOT USE ICEREC ENVIROMENT TO RUN IT. ### 
### DO NOT SOURCE '$SROOT/metaprojects/icerec/trunk/env-shell.sh' ###

The main directory contains AMON client module amon_client_post_ssl.py. 
This client is run as a plugin with twistd program. 
Twistd requires a following subdirecotry structure: twisted/plugins to exist. 
The plugin amon_client_post_ssl_plugin.py is placed in AMON_forwarding/twisted/plugin. 

### Each alert sent to AMON is moved to the archive subdirectory alerts/archive. ###
 
### START DAEMON - run one of the three commands bellow ###

### send to the development AMON machine###
twistd -l client.log --pidfile client.pid clientpostssl --hostport "https://192.5.158.145/amon" --epath alerts/ --cfile client_ic_dev.crt --kfile client_ic_dev.key

### send to the production AMON dual servers###
twistd -l client.log --pidfile client.pid clientpostssl --hostport "https://192.5.158.139/amon" --epath alerts/ --cfile client_ic_pro.crt --kfile client_ic_pro.key

#### KILL DAEMON ###
kill `cat client.pid`
